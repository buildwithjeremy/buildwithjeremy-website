---
interface Props {
  title?: string;
  description?: string;
  buttonText?: string;
  variant?: 'default' | 'inline' | 'card';
}

const {
  title = 'Subscribe to the Newsletter',
  description = 'Get tips and insights delivered to your inbox.',
  buttonText = 'Subscribe',
  variant = 'default',
} = Astro.props;
---

{variant === 'card' ? (
  <div class="theme-bg-secondary rounded-2xl p-8 md:p-12 border transition-colors" style="border-color: var(--border-color);">
    <div class="max-w-2xl mx-auto text-center">
      <h2 class="text-2xl md:text-3xl font-bold theme-text-primary">{title}</h2>
      <p class="mt-4 theme-text-secondary">{description}</p>
      <form
        action="https://app.mailerlite.com/webforms/submit/"
        method="POST"
        class="mt-6 flex flex-col sm:flex-row gap-3 justify-center"
        data-code=""
        target="_blank"
      >
        <input
          type="email"
          name="fields[email]"
          placeholder="Enter your email"
          required
          class="px-4 py-3 rounded-lg border focus:ring-2 focus:ring-brand focus:border-transparent outline-none flex-1 max-w-md theme-bg-primary theme-text-primary transition-colors"
          style="border-color: var(--border-color);"
        />
        <button type="submit" class="btn btn-primary whitespace-nowrap">
          {buttonText}
        </button>
      </form>
      <p class="mt-4 text-xs theme-text-muted">
        No spam. Unsubscribe anytime.
      </p>
    </div>
  </div>
) : variant === 'inline' ? (
  <form
    action="https://app.mailerlite.com/webforms/submit/"
    method="POST"
    class="flex flex-col sm:flex-row gap-3"
    data-code=""
    target="_blank"
  >
    <input
      type="email"
      name="fields[email]"
      placeholder="Enter your email"
      required
      class="px-4 py-3 rounded-lg border focus:ring-2 focus:ring-brand focus:border-transparent outline-none flex-1 theme-bg-primary theme-text-primary transition-colors"
      style="border-color: var(--border-color);"
    />
    <button type="submit" class="btn btn-primary whitespace-nowrap">
      {buttonText}
    </button>
  </form>
) : (
  <div class="text-center">
    <h3 class="text-xl font-bold theme-text-primary">{title}</h3>
    <p class="mt-2 theme-text-secondary">{description}</p>
    <form
      action="https://app.mailerlite.com/webforms/submit/"
      method="POST"
      class="mt-4 flex flex-col sm:flex-row gap-3 justify-center"
      data-code=""
      target="_blank"
    >
      <input
        type="email"
        name="fields[email]"
        placeholder="Enter your email"
        required
        class="px-4 py-3 rounded-lg border focus:ring-2 focus:ring-brand focus:border-transparent outline-none theme-bg-primary theme-text-primary transition-colors"
        style="border-color: var(--border-color);"
      />
      <button type="submit" class="btn btn-primary whitespace-nowrap">
        {buttonText}
      </button>
    </form>
  </div>
)}
